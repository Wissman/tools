# rt.jar must be in the classpath!

CLASSES = \
	Exploit.java  \
	B.java \
	Serializer.java

.SUFFIXES: .java .class
.java.class:
	javac -source 1.2 -target 1.2 -cp "../../../../data/java:." $*.java

all: $(CLASSES:.java=.class)

install:
	java Serializer
	mv Exploit.class ../../../../data/exploits/cve-2013-0431/
	mv B.class ../../../../data/exploits/cve-2013-0431/
	mv Exploit.ser ../../../../data/exploits/cve-2013-0431/

clean:
	rm -rf *.class
	rm -rf *.ser
